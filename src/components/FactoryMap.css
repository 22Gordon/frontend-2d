/* === Marcadores no formato tile + número por baixo === */
.machine{
  position:absolute;
  transform:translate(-50%, -50%);
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; z-index:1;
}
.machine .machine-tile{
  width:28px; height:28px; border-radius:6px;
  display:inline-flex; align-items:center; justify-content:center;
  color:#fff; box-shadow:0 10px 22px rgba(2,6,23,.22);
  transition:transform .15s ease, box-shadow .15s ease, outline .15s ease;
}
.machine .machine-icon{ width:14px; height:14px; stroke-width:2; color:#fff; }

.machine .machine-num{
  position:absolute; top:calc(100% + 3px); left:50%; transform:translateX(-50%);
  font-size:12px; font-weight:700; color:#0f172a; text-shadow:0 1px 0 rgba(255,255,255,.6);
}

/* cores por estado */
.machine.active   .machine-tile{ background:#2e7d32; }   /* verde */
.machine.inactive .machine-tile{ background:#f59e0b; color:#111; } /* laranja */

/* hover/seleção */
.machine:hover .machine-tile{
  transform:scale(1.06); box-shadow:0 14px 28px rgba(2,6,23,.28);
}
.machine.selected .machine-tile{
  outline:3px solid #22d3ee; outline-offset:0;
  box-shadow:0 0 0 5px rgba(34,211,238,.18), 0 18px 42px rgba(2,6,23,.35);
  transform:scale(1.1);
}

/* === Legenda fixa no canto inferior-esquerdo === */
.map-legend{
  position:absolute; left:12px; bottom:12px;
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  background:rgba(255,255,255,.95); border:1px solid #e7eaf0;
  border-radius:12px; padding:.45rem .6rem; font-size:.9rem;
  box-shadow:0 10px 22px rgba(2,6,23,.12);
}
.map-legend span{ display:inline-flex; align-items:center; gap:6px; }
.legend-dot{ width:12px; height:12px; border-radius:4px; }
.legend-active{ background:#2e7d32; }
.legend-inactive{ background:#f59e0b; }
.legend-selected{ width:12px; height:12px; border-radius:50%; border:2px solid #00bfff; background:transparent; }
